<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>Secret Build</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    background: linear-gradient(#111827, #334155);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Inter', system-ui, sans-serif;
  }

  .app {
    position: relative;
    z-index: 2;
    background: #020617;
    border: 1px solid #334155;
    border-radius: 18px;
    padding: 28px;
    width: 360px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    color: #e5e7eb;
  }

  .title {
    font-size: 20px;
    margin-bottom: 16px;
    color: #a5b4fc;
    font-weight: 600;
    text-align: center;
  }

  .log {
    background: #020617;
    border: 1px solid #1f2937;
    border-radius: 12px;
    padding: 14px;
    height: 160px;
    overflow-y: auto;
    font-family: 'JetBrains Mono', monospace;
    font-size: 14px;
  }

  button {
    margin-top: 16px;
    width: 100%;
    padding: 12px 0;
    border-radius: 12px;
    border: none;
    background: #4f46e5;
    color: white;
    cursor: pointer;
    font-size: 15px;
    font-weight: 600;
    transition: background 0.3s;
  }
  button:hover:not(:disabled) {
    background: #6366f1;
  }
  button:disabled {
    opacity: 0.6;
    cursor: default;
  }

  .progress-wrap {
    margin-top: 14px;
  }
  .progress-bg {
    width: 100%;
    height: 8px;
    border-radius: 8px;
    background: #1f2937;
    overflow: hidden;
  }
  .progress-fill {
    height: 100%;
    width: 0%;
    background: #4ade80;
    transition: width 0.6s ease;
  }
  .progress-label {
    margin-top: 6px;
    font-size: 12px;
    color: #9ca3af;
    text-align: right;
  }

  .result {
    font-size: 16px;
    line-height: 1.6;
    text-align: center;
    margin-top: 12px;
    position: relative;
    z-index: 3;
  }
  .heart {
    color: #fb7185;
    font-weight: 700;
  }

  .heart-fall {
    top: 0;
    position: absolute;
    font-size: 18px;
    animation: fall-heart 5s linear infinite;
  }
  @keyframes fall-heart {
    0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
  }

  /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ */
  @media screen and (max-width: 480px) {
    .app {
      width: 90vw;
      padding: 20px;
      border-radius: 14px;
    }
    .title {
      font-size: 18px;
    }
    .log {
      height: 140px;
      font-size: 13px;
      padding: 10px;
    }
    button {
      font-size: 14px;
      padding: 10px 0;
    }
    .progress-label {
      font-size: 11px;
    }
    .result {
      font-size: 14px;
    }
  }
</style>

</head>
<body>
  <div class="app">
    <div class="title">–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Ç–µ–±—è üíå</div>

    <div id="stage">
      <div id="log" class="log"></div>

      <div class="progress-wrap">
        <div class="progress-bg">
          <div id="bar" class="progress-fill"></div>
        </div>
        <div id="percent" class="progress-label">0%</div>
      </div>

      <button id="run">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä–∫—É</button>
    </div>

    <div id="result" class="result" style="display: none;"></div>
  
<script>
  const log = document.getElementById('log');
  const btn = document.getElementById('run');
  const bar = document.getElementById('bar');
  const percent = document.getElementById('percent');
  const stage = document.getElementById('stage');
  const result = document.getElementById('result');

  const steps = [
    "[init] loading memories‚Ä¶",
    "[ok] –Ω–∞–π–¥–µ–Ω–æ: —Å–º–µ—Ö, —Ä–∞–∑–≥–æ–≤–æ—Ä—ã, —Ç—ë–ø–ª—ã–µ –º–æ–º–µ–Ω—Ç—ã",
    "[compile] —Å–æ–±–∏—Ä–∞—é –ª—É—á—à–∏–µ —Å–ª–æ–≤–∞‚Ä¶",
    "[deploy] –ø–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ ‚ú®",
  ];

  const message = `
    –õ—é–±–ª—é –≤–∞—Å —á–æ–Ω –∫—ã–∑ ‚ù§Ô∏è!
  `;


  function append(text){const line=document.createElement('div');line.textContent=text;log.appendChild(line);log.scrollTop=log.scrollHeight;}
  function setProgress(p){bar.style.width=p+'%';percent.textContent=p+'%';}
  async function animateTo(target,duration=1000){const start=parseInt(percent.textContent)||0;const t0=performance.now();return new Promise(resolve=>{function tick(t){const k=Math.min(1,(t-t0)/duration);const v=Math.round(start+(target-start)*k);setProgress(v);if(k<1)requestAnimationFrame(tick);else resolve();}requestAnimationFrame(tick);});}

  btn.onclick=async()=>{
    btn.disabled=true;
    setProgress(0);
    log.innerHTML='';

    const stepProgress=[20,45,70,90];
    for(let i=0;i<steps.length;i++){
      append(steps[i]);
      await animateTo(stepProgress[i],700);
      await new Promise(r=>setTimeout(r,700));
    }
    await animateTo(100,1200);

    // –°–∫—Ä—ã–≤–∞–µ–º —Å–±–æ—Ä–∫—É
    stage.style.display='none';
    result.style.display='block';
    result.innerHTML=message;

    // –∑–∞–ø—É—Å–∫–∞–µ–º –¥–æ–∂–¥—å —Å–µ—Ä–¥–µ—á–µ–∫
   for(let i=0;i<80;i++){
  const h=document.createElement('div');
  h.className='heart-fall';
  h.textContent = "‚ù§Ô∏è"; // –∞–π—Ñ–æ–Ω–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ
  h.style.left=Math.random()*90+'vw';
  h.style.fontSize=(14+Math.random()*12)+'px';
  h.style.animationDuration=(3+Math.random()*3)+'s';
  document.body.appendChild(h);
  await new Promise(r=>setTimeout(r,100));
   }

  };


</script>
</body>
</html>
